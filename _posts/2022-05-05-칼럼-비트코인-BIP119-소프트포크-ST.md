---
layout: column
category: column

author: onebit
authorid: onebit
tag: onebit
title: "칼럼: BIP 119 비트코인 개선 프로토콜과 비트코인 커뮤니티"
date: 2022-05-05 08:00:00 +0900
excerpt: "빕119는 OP_checkTemplateVerify, CTV 등으로 불리우며 template이라 불리우는 간단한 커버넌트를 통해 트랜젝션 레벨에서의 스마트컨트랙트를 가능케 하는 제안이다."
comments: true

---

탭루트 소프트 포크가 진행된지 6개월이 지난 2022년 5월, 또 다시 소프트포크에 대한 투표가 진행될 예정이다.  비트코인 개선(향상) 프로토콜, 즉 BIP119 가 비트코인 코어 개발자 Jeremy Rubin에 의해 제안되어[^1] 곧 Speedy Trial 절차에 들어가게 된다.


### 비트코인 코어 개발자 & Fork
Bitcoin Core 개발자들은 비트코인의 개발에 기여하며, 코드를 리뷰하고 이를 문서화 함과 동시에 비트코인 본질에 대한 토론을 이어간다.  개발자들이 비트코인 향상을 위한 제안을 할 경우 공식적으로 Bitcoin Improvement Proposal, 앞 글자를 따아서 BIP 빕, 즉 “비트코인 개선 제안”을 하게 된다.  BIP는 새로운 업데이트 향상 및 변화를 제안하고 이의 활성화를 위해 Fork 포크를 진행하게 된다.  비트코인 커뮤니티의 합의 시스탬을 통해 포크를 받아들이거나 거부할 수 있다.

참고로 세그윗이나 탭루트 같은 성공적인 포크들이 있었다.

### BIP119
빕119는 OP_checkTemplateVerify, CTV 등으로 불리우며 template이라 불리우는 간단한 커버넌트를 통해 트랜젝션 레벨에서의 스마트컨트랙트를 가능케 하는 [제안이다](https://github.com/bitcoin/bips/blob/master/bip-0119.mediawiki).   

예를 들어 특정 주소로만 보내게 한다거나 특정 블록 후 트랜젝션이 가능하도록 조건을 걸 수 있도록 하는 what ‘무엇’과 how ‘어떻게’ 가 가능해진다.  이미 비트코인에서 멀티시그나 시간제한 Time-Locked 은 가능하지만 CTV를 통해 **간단하면서도** 좀 더 세밀해진 조건을 활용가능케 되는 것이다.[^2]

이를 통해 CTV는 비트코인의 유저레벨에서의 보안과, 프라이버시 그리고 확장성 향상으로 인한 효율적인 대량의 거래를 가능하게 하므로 더 낮은 수수료를 기대할 수 있으며 이는 레이어2인 라이트닝 네트워크의 채널 오프닝에도 활용되어 대량의 HTLCS 를 라우팅 할 수 있게 된다.

![](/asset/img/post/bip119-1.jpg)


### Speedy Trial 고속절차
이 빕119의 포크를 위해 제안자 Jeremy Rubin 은 빠른 절차로 Speedy Trial(이하 ST) 을 제안했다.  MASF, 채굴자들에게 동의를 얻음으로써 빕이 포크될 수 있는 방법이며 지난 탭루트 소프트포크 진행에서 이루어진 방법이다.

ST는 채굴자들이 채굴한 블록을 통해 신호를 보내는 방식으로 3개월의 짧은 시간 동안 채굴자들의 90% 이상의 동의를 얻게 될 경우 합의에 이루었다 결론되어 소프트웨어를 적용한 후 전체적으로 특정 블록높이에 동시 시작되는 메커니즘이다.

하지만 비트코인의 합의, consensus 컨센서스는 단순히 채굴자들의 동의만으론 이루어 질 수 없다.  개발자들, 거래소들 뿐만 아니라 노드들을 돌리는 유저들의 합의 또한 중요하기 때문이다.  “블록사이즈 전쟁”에서 보여주었듯, 유저들의 동의를 얻지 못한 체 강요하게 되면 UASF, 유저들간의 합의 소프트웨어를 돌리게 되고 채굴자들의 블록들은 쓸모 없게 된다.  결국 하드포크라는 다른 형태의 비트코인으로 분리될 수 있고 채굴자들의 막대한 손해로 이어질 수 있기에 이를 방지하기 위해서라도 비트코인 커뮤니티의 전체적인 합의가 필요하다.[^3]

### 부정적 시각
현재 여러 비트코인 커뮤니티의 빕119에 대한 시각은 Not yet, 아직은 이르다 인듯 하다.      비트코인이 영원히 특정 주소로만 보내지게 되어 fungibility 대체가능성을 잃어 버린다거나 이더리움 처럼 스마트컨트랙트 화 되어버리는게 아니냐는 잘못된 소문들과 여러 오해로 부터 파생된 부가적인 문제점들을 제시하며 불편한 시각을 보낸다.

개발자들 사이에서는 여러 온체인 커버넌트 proposal 제안들이 많은 가운데 빕119가 그 중 최선인지에 대해 확신할 수 없음에 주저하고 있다.  

특히 이 제안이 꼭 ST를 거쳐아 하는 것인가에 대한 시각들이 분분한데, 비트코인 커뮤니티의 인플루언서들, Adam Back, Jimmy song, Rodolfo Novak 등은 ST에 대한 반대를 표명했고, Peter Todd, Matt Corallo, John Carvalho, Franciss Pouliot, Andreas Antonopoulos 등 또한 비슷한 입장을 나타내고 있다.  빕119 제안의 기술적인 부분의 동의에도 ST에 관해서는 부정적이다.


### 긍정적 시각
빕119  지지자들은 비트코인의 다음 단계가 도래했다는 관점이다.  빕119 적용시, 비트코인의 스케일링에 대한 부분을 어느 정도 해결하며 이를 통해 레이어 2 또한 커다란 향상을 기대 할 수 있다.   일괄처리를 통한 네트워크에 가중되는 부담을 줄이는 부분과 유저들의 실수를 줄여준다는 점은 분명 비트코인의 향상으로 볼 수 있다.

Jeremy의 지난 3년간의 개발이 아직도 제대로 리뷰되지 못하고 있는 부분 또한 동정표를 얻고 있다.  분명 비트코인 커뮤니티에 도움이 되는 기능이 맞음에도 더 나은 방안을 알아보겠다는 이유로 미루어지고 있는 부분은 비트코인 코어팀의 리뷰 과정에 대한 질문을 던지게도 한다.

### Speedy Trial이 이슈?
비트코인의 포크를 위해 Speedy Trial 이 남용되는게 아니냐는 우려도 보인다.  지난 탭루트의 ST 당시 이미 커뮤니티와 개발자, 거래소등의 여러방면에서 이미 탭루트 소포트포크는 어느정도의 합의가 이루어진 상태였다.  이전과 같은 BIP-9 방식의 소프트포크는 채굴자들에게 1년의 시간이 주어지며 95%의 동의를 요하는 과정이기에 3개월이라는 조금 더 빠른 방식인 Speedy Trial 이 채택된 것이다.

하지만 이번 빕119는 다르다.  커뮤니티의 합의와 이해 이전에 채굴자들을 먼저 합의하도록 하는 역순서의 방식이 강요된 상황이기 때문이다.  코어 개발자 중 한명인 Jimmy Song은 이번 ST는 큰 동의를 얻지 못할것이라 예상하고 있다. [^4] 

곧 진행될 빕119의 ST는 Jeremy 개발자의 의도대로 많은 관심을 불러 일으켰다.  비트코인의 안정성과 확장성을 위한 위험성이 낮은 스마트컨트랙트의 가능성에 대한 대화도 시작되었으며 비트코인 코어 개발자의 역할에 대한 이해도도 높아졌다.  노드 오퍼레이터들의 BIP이해도에 관한 토론도 이루어졌으며 비트코인의 합의라는 놀라운 과정도 더욱 알려졌다.  

BIP119의 미래는 아무도 모른다.  하지만 비트코인 커뮤니티는 이로인해 한단계 더욱 성숙해졌다.  1비트코인 = 1비트코인 공식이 성립되기 위하여, 그리고 그것에 필요한 합의와 수도없이 이루어지는 토론들은 비트코인 커뮤니티가 더욱 진화하는데 윤활류가 될 것이다.






[^1]: [bips/bip-0119.mediawiki at master · bitcoin/bips · GitHub](https://github.com/bitcoin/bips/blob/master/bip-0119.mediawiki)

[^2]: [What Is Bitcoin CheckTemplateVerify? - Bitcoin Magazine: Bitcoin News, Articles, Charts, and Guides](https://bitcoinmagazine.com/technical/what-is-bitcoin-checktemplateverify)

[^3]: [https://twitter.com/atomicBTC/status/1517925940633821184?s=20&t=zR_1DVmkgXYWT0fcmCkLJw](https://twitter.com/atomicBTC/status/1517925940633821184?s=20&t=zR_1DVmkgXYWT0fcmCkLJw)

[^4]: [YouTube](https://www.youtube.com/watch?v=i5VNiiCYnIg)